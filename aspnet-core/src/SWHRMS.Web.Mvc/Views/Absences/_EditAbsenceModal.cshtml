@using SWHRMS.Web.Models.Common.Modals
@model SWHRMS.Web.Models.Absence.EditAbsenceModalViewModel
@{
    Layout = null;
}
@Html.Partial("~/Views/Shared/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(L("EditAbsence")))

<div class="modal-body">
    <form name="AbsenceEditForm" role="form" novalidate class="form-validation">
        <input type="hidden" name="Id" value="@Model.Absence.Id" />
        <div class="row clearfix">
            <div class="col-sm-12">
                <div class="form-group form-float">
                    <div class="form-line">
                        <label for="edituserid" class="form-label-static">@L("WhoFor")</label>
                        <select id="edituserid" name="UserId" class="validate form-control show-tick" title="@L("PickAnEmployee")">
                            @foreach (var user in Model.Users)
                            {
                                @: <option value="@user.Id" @(Model.Absence.UserId == user.Id ? "selected" : "")>@user.FullName</option>
                            }
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row clearfix">
            <div class="col-sm-7">
                <div class="input-group form-group form-float">
                    <div class="form-line has-float-label">
                        <input id="editstartdate" type="text" name="StartDate" value="@Model.Absence.StartDate.ToString("dd/MM/yyyy")" maxlength="256" class="my-datepicker validate form-control">
                        <label for="editstartdate" class="form-label">@L("StartDate")</label>
                    </div>
                    <span class="input-group-addon">
                        <i class="material-icons">date_range</i>
                    </span>
                </div>
            </div>
            <div class="col-sm-5">
                <div class="form-group form-float">
                    <div class="form-line">
                        <select id="editstarttod" name="StartTimeOfDay" class="validate form-control show-tick">
                            <!option value=0 @(Model.Absence.StartDate.TimeOfDay.Hours < 12 ? "selected" : "")>Morning</!option>
                            <!option value=1 @(Model.Absence.StartDate.TimeOfDay.Hours >= 12 ? "selected" : "")>Afternoon</!option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row clearfix">
            <div class="col-sm-7">
                <div class="input-group form-group form-float">
                    <div class="form-line has-float-label">
                        <input id="editenddate" type="text" name="EndDate" value="@Model.Absence.EndDate.ToString("dd/MM/yyyy")" maxlength="256" class="my-datepicker validate form-control">
                        <label for="editenddate" class="form-label">@L("StartDate")</label>
                    </div>
                    <span class="input-group-addon">
                        <i class="material-icons">date_range</i>
                    </span>
                </div>
            </div>
            <div class="col-sm-5">
                <div class="form-group form-float">
                    <div class="form-line">
                        <select id="editendtod" name="EndTimeOfDay" class="validate form-control show-tick">
                            <!option value=0 @(Model.Absence.EndDate.TimeOfDay.Hours <= 12 ? "selected" : "")>Morning</!option>
                            <!option value=1 @(Model.Absence.EndDate.TimeOfDay.Hours > 12 ? "selected" : "")>Afternoon</!option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="row clearfix">
            <div class="col-sm-12">
                <div class="form-group form-float">
                    <div class="form-line">
                        <input id="editdetail" type="text" name="Details" value="@Model.Absence.Details" maxlength="256" class="validate form-control">
                        <label for="editdetail" class="form-label">@L("Reason")</label>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

@Html.Partial("~/Views/Shared/Modals/_ModalFooterWithSaveAndCancel.cshtml")

<script src="~/view-resources/Views/Absence/_EditAbsenceModal.js" asp-append-version="true"></script>
